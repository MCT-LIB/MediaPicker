plugins {
    id "com.android.library"
//    id "com.vanniktech.maven.publish" version "0.30.0"
}

android {
    namespace 'com.mct.mediapicker'
    compileSdk 34

    defaultConfig {
        minSdk 24

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles "consumer-rules.pro"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    buildFeatures {
        viewBinding true
        dataBinding true
    }
}

dependencies {

    implementation 'androidx.appcompat:appcompat:1.7.0'
    implementation 'com.google.android.material:material:1.12.0'

    implementation 'io.reactivex.rxjava3:rxjava:3.1.7'
    implementation 'io.reactivex.rxjava3:rxandroid:3.0.2'

    implementation 'com.github.MCT-LIB:TouchUtils:2.1.3'

    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.2.1'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.6.1'
}

apply from: './github-jitpack-publish.gradle'

GithubJitPackPublish {
    it.userName = "MCT-LIB"
    it.repositoryName = "MediaPicker"
}

/* --- Maven Publishing --- */

//mavenPublishing {
//
//    // run script to publish (no auto release): ./gradlew publishToMavenCentral --no-configuration-cache
//    // run script to publish (auto release):    ./gradlew publishAndReleaseToMavenCentral --no-configuration-cache
//
//    String GROUP_ID = "io.github.mct-lib"
//    String ARTIFACT_ID = "media-picker"
//    String VERSION = "1.0.0"
//
//    String PROJECT_NAME = "MediaPicker"
//    String PROJECT_DESCRIPTION = "Powerful media picker for android"
//    String PROJECT_INCEPTION_YEAR = "2024"
//
//    String GITHUB_USERNAME = "MCT-LIB"
//    String GITHUB_REPOSITORY_NAME = "MediaPicker"
//    String DEV_ID = "MCT-LIB"
//    String DEV_NAME = "mct"
//
//    //noinspection UnnecessaryQualifiedReference
//    configure(new com.vanniktech.maven.publish.AndroidSingleVariantLibrary("debug", true, true))
//    //noinspection UnnecessaryQualifiedReference
//    publishToMavenCentral(com.vanniktech.maven.publish.SonatypeHost.CENTRAL_PORTAL)
//    signAllPublications()
//    coordinates(GROUP_ID, ARTIFACT_ID, VERSION)
//    pom {
//        name = PROJECT_NAME
//        description = PROJECT_DESCRIPTION
//        inceptionYear = PROJECT_INCEPTION_YEAR
//        url = "https://github.com/${GITHUB_USERNAME}/${GITHUB_REPOSITORY_NAME}"
//        licenses {
//            license {
//                name = "The Apache License, Version 2.0"
//                url = "http://www.apache.org/licenses/LICENSE-2.0.txt"
//                distribution = "http://www.apache.org/licenses/LICENSE-2.0.txt"
//            }
//        }
//        developers {
//            developer {
//                id = DEV_ID
//                name = DEV_NAME
//                url = "https://github.com/${GITHUB_USERNAME}"
//            }
//        }
//        scm {
//            url = "https://github.com/${GITHUB_USERNAME}/${GITHUB_REPOSITORY_NAME}"
//            connection = "scm:git:git://github.com/${GITHUB_USERNAME}/${GITHUB_REPOSITORY_NAME}.git"
//            developerConnection = "scm:git:ssh://git@github.com/${GITHUB_USERNAME}/${GITHUB_REPOSITORY_NAME}.git"
//        }
//    }
//}
